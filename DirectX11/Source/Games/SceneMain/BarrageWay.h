#ifndef __BARRAGE_WAY_H_
#define __BARRAGE_WAY_H_

struct tagInstanceBullet;
class BarrageWay
{
public:

	//------------------------------------------------------------------------------
	//
	//  @brief		弾幕を生成
	//
	//------------------------------------------------------------------------------
	BarrageWay(const char* pFilepath, const UINT bulletNum, const DirectX::XMFLOAT2& size);

	//------------------------------------------------------------------------------
	//
	//  @brief		弾幕を解放
	//
	//------------------------------------------------------------------------------
	~BarrageWay();

	//------------------------------------------------------------------------------
	//
	//  @brief		座標と移動量などを設定
	//
	//------------------------------------------------------------------------------
	void Set(const DirectX::XMFLOAT2& playerPos, const float moveSpeed, const UINT shotInterval = 1);

	//------------------------------------------------------------------------------
	//
	//  @brief		座標を更新
	//
	//------------------------------------------------------------------------------
	void Update();

	//------------------------------------------------------------------------------
	//
	//  @brief		描画
	//
	//------------------------------------------------------------------------------
	bool Render();

	//------------------------------------------------------------------------------
	//
	//  @brief		弾幕を放つ方向の数を取得する
	//
	//------------------------------------------------------------------------------
	int GetWayCount() const;

	//------------------------------------------------------------------------------
	//
	//  @brief		弾幕を放つ方向の数を設定する
	//
	//------------------------------------------------------------------------------
	void SetWayCount(const UINT count);

	//------------------------------------------------------------------------------
	//
	//  @brief		反射機能を使用する
	//
	//------------------------------------------------------------------------------
	void UseRefrect();
private:
	DX_Instance2DObject* m_pInstance2D;
	tagInstanceBullet* m_pBullets;
	DirectX::XMFLOAT2 m_size;
	UINT m_shotInterval;
	UINT m_way;
	UINT m_bulletNum;
	UINT m_spaceCount;
	bool m_bUseRefrect;

	//------------------------------------------------------------------------------
	//
	//  @brief		何もしない
	//
	//------------------------------------------------------------------------------
	BarrageWay() {};
};
#endif // !__BARRAGE_WAY_H_
